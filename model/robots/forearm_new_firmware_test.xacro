<robot xmlns:xacro="http://ros.org/wiki/xacro" name="forearm_new_firmware_test">

    <xacro:property name="mesh_root" value="package://val_description/model/meshes"/>
    <xacro:include filename="$(find val_description)/model/robots/common/xacro/generic_models.xacro" />
    <xacro:include filename="$(find val_description)/model/robots/common/xacro/common_bodies.xacro" />
    <xacro:include filename="$(find val_description)/common/xacro/api/forearm_new_firmware_test_api.xacro"/>
    <xacro:include filename="$(find val_description)/common/xacro/nodes/forearm_new_firmware_test_nodes.xacro"/>
    
    <xacro:property name="prefix" value="left"/>
    <xacro:property name="reflect" value="-1"/>

    <link name="world"/>

    <xacro:make_lower_arm prefix="${prefix}" reflect="${reflect}" lower_arm_root_link="world"/>
    <xacro:make_thumb prefix="${prefix}" reflect="${reflect}" thumb_root_link="${prefix}Palm"/>
    <xacro:make_index_finger prefix="${prefix}" reflect="${reflect}" index_finger_root_link="${prefix}Palm"/>
    <xacro:make_middle_finger prefix="${prefix}" reflect="${reflect}" middle_finger_root_link="${prefix}Palm"/>
    <xacro:make_pinky_finger prefix="${prefix}" reflect="${reflect}" pinky_finger_root_link="${prefix}Palm"/>
    
    <xacro:simple_position_transmission jointName="${IndexFingerPitch1ActuatorName}" actuatorName="${IndexFingerPitch1ActuatorName}" nodeName="${IndexFingerPitch1Node}" actuatorApi="${IndexPitchApi}"/>
    <xacro:simple_position_transmission jointName="${MiddleFingerPitch1ActuatorName}" actuatorName="${MiddleFingerPitch1ActuatorName}" nodeName="${MiddleFingerPitch1Node}" actuatorApi="${MiddlePitchApi}"/>
    <xacro:simple_position_transmission jointName="${PinkyPitch1ActuatorName}" actuatorName="${PinkyPitch1ActuatorName}" nodeName="${PinkyPitch1Node}" actuatorApi="${PinkyPitchApi}"/>
    <xacro:simple_position_transmission jointName="${ThumbRollActuatorName}" actuatorName="${ThumbRollActuatorName}" nodeName="${ThumbRollNode}" actuatorApi="${ThumbRollApi}"/>
    <xacro:simple_position_transmission jointName="${ThumbPitch1ActuatorName}" actuatorName="${ThumbPitch1ActuatorName}" nodeName="${ThumbPitch1Node}" actuatorApi="${ThumbPitch1Api}"/>
    <xacro:simple_position_transmission jointName="${ThumbPitch2ActuatorName}" actuatorName="${ThumbPitch2ActuatorName}" nodeName="${ThumbPitch2Node}" actuatorApi="${ThumbPtich2Api}"/>

    <xacro:pushrod_transmission_position_control transmissionName="${prefix}WristTransmission" transmissionType="WristPushrodTransmission" joint1Name="${WristRollJointName}" joint2Name="${WristPitchJointName}" joint1Role="roll" joint2Role="pitch" actuator1Name="${WristBottomActuatorName}" actuator2Name="${WristTopActuatorName}" actuator1Node="${WristBottomActuatorNode}" actuator2Node="${WristTopActuatorNode}" actuator1Api="${WristBottomActuatorApi}" actuator2Api="${WristTopActuatorApi}" actuator1Role="bottom" actuator2Role="top"/>

</robot>